{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"src/app/services/winery.service\";\nexport class FormComponent {\n  constructor(fb, router, toastr, _wineryService, aRouter) {\n    this.fb = fb;\n    this.router = router;\n    this.toastr = toastr;\n    this._wineryService = _wineryService;\n    this.aRouter = aRouter;\n    this.titulo = 'Create Winery';\n    this.wineryForm = this.fb.group({\n      name: ['', Validators.required],\n      zone: ['', Validators.required]\n    });\n    this.id = this.aRouter.snapshot.paramMap.get('id');\n  }\n  ngOnInit() {\n    // this.isEdit();\n  }\n  addWinery() {\n    console.log(this.wineryForm);\n    console.log(this.wineryForm.get('name')?.value);\n    const WINERY = {\n      name: this.wineryForm.get('name')?.value,\n      zone: this.wineryForm.get('zone')?.value\n    };\n    this._wineryService.saveWinery(WINERY).subscribe(data => {\n      this.toastr.success('Bodega Registrada con Exito!', 'Bodega Registrada!');\n      this.router.navigate(['/']);\n    }, error => {\n      console.log(error);\n      this.wineryForm.reset();\n    });\n    //   console.log(this.wineryForm);\n    //   console.log(this.wineryForm.get('name')?.value);\n    //   const WINERY: Winery = {\n    //     name: this.wineryForm.get('name')?.value,\n    //     zone: this.wineryForm.get('zone')?.value\n    //   }\n    // if (this.id !== null) {\n    //   this._wineryService.updateWinery(this.id, WINERY).subscribe(data=>{\n    //     this.toastr.info('Bodega Actualizada con Exito!', 'Bodega Actualizado!');\n    //     this.router.navigate(['/']);\n    //   }, error => {\n    //     console.log(error);\n    //   this.wineryForm.reset();\n    // })\n    // } else {\n    //   // agregamos produ nuevo\n    //   console.log(WINERY);\n    //   this._wineryService.saveWinery(WINERY).subscribe(data =>{\n    //     this.toastr.success('Bodega Registrada con Exito!', 'Bodega Registrada!');\n    //     this.router.navigate(['/']);\n    //   }, error => {\n    //     console.log(error);\n    //   this.wineryForm.reset();\n    //   })\n    // }\n    // }\n    // isEdit(){\n    // if(this.id !== null){\n    //   this.titulo = 'Editar Bodega'\n    //   this._wineryService.getWinery(this.id).subscribe(data =>{\n    // this.wineryForm.setValue({\n    //       name: data.name,\n    //       zone: data.zone\n    // })\n    //   })\n    //}\n  }\n}\n\nFormComponent.ɵfac = function FormComponent_Factory(t) {\n  return new (t || FormComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.WineryService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\nFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FormComponent,\n  selectors: [[\"app-form\"]],\n  decls: 32,\n  vars: 3,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"maxlength\", \"60\", \"placeholder\", \"Nombre\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"zone\"], [\"name\", \"zone\", \"id\", \"zone\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"Lujan de Cuyo\"], [\"value\", \"Maipu\"], [\"value\", \"Valle de Uco\"], [\"value\", \"San Rafael\"], [\"value\", \"Zona Este\"], [\"value\", \"Otra\", \"selected\", \"\"], [\"type\", \"submit\"], [\"type\", \"reset\"]],\n  template: function FormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"form works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function FormComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.addWinery();\n      });\n      i0.ɵɵelementStart(3, \"h1\");\n      i0.ɵɵtext(4, \"Agregar nueva Bodega\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\", 1);\n      i0.ɵɵtext(6, \"Nombre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"br\");\n      i0.ɵɵelementStart(8, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function FormComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.winery.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"br\");\n      i0.ɵɵelementStart(10, \"label\", 3);\n      i0.ɵɵtext(11, \"Zona: \");\n      i0.ɵɵelementStart(12, \"select\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function FormComponent_Template_select_ngModelChange_12_listener($event) {\n        return ctx.winery.zone = $event;\n      });\n      i0.ɵɵelementStart(13, \"option\", 5);\n      i0.ɵɵtext(14, \"Lujan de Cuyo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"option\", 6);\n      i0.ɵɵtext(16, \"Maipu\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"option\", 7);\n      i0.ɵɵtext(18, \"Valle de Uco\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"option\", 8);\n      i0.ɵɵtext(20, \"San Rafael\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"option\", 9);\n      i0.ɵɵtext(22, \"Zona Este\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"option\", 10);\n      i0.ɵɵtext(24, \"Otra\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(25, \"br\")(26, \"br\");\n      i0.ɵɵelementStart(27, \"button\", 11);\n      i0.ɵɵtext(28, \"Agregar Bodega\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 12);\n      i0.ɵɵtext(30, \"Borrar Formulario\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(31, \"br\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.wineryForm);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.winery.name);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.winery.zone);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i1.NgModel, i1.FormGroupDirective],\n  styles: [\"@media screen and (min-width: 52em) {\\n  .form[_ngcontent-%COMP%] {\\n      min-width: 52em;\\n  }\\n}\\n\\nform[_ngcontent-%COMP%]{\\n  margin: 3em;\\n  padding: 3em;\\n  background-color: rgb(127, 216, 217);\\n  background-size: cover;\\n\\n}\\nlabel[_ngcontent-%COMP%]{\\n  color: rgb(122, 218, 207);\\n  font-size: x-large;\\n  font-style:italic;\\n  font-weight: bold;\\n}\\n\\nbutton[_ngcontent-%COMP%]{\\n  border: #000;\\n  border-radius: 1em;\\n  border-style:groove;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: large;\\n  font-weight: bold;\\n  width: 8em;\\n  height: 3em;\\n  margin: 2em;\\n\\n}\\nh1[_ngcontent-%COMP%]{\\n  font-size: xx-large;\\n  font-weight: bold;\\n  font-style: normal;\\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvZm9ybS9mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtNQUNJLGVBQWU7RUFDbkI7QUFDRjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osb0NBQW9DO0VBQ3BDLHNCQUFzQjs7QUFFeEI7QUFDQTtFQUNFLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLHlDQUF5QztFQUN6QyxnQkFBZ0I7RUFDaEIsaUJBQWlCO0VBQ2pCLFVBQVU7RUFDVixXQUFXO0VBQ1gsV0FBVzs7QUFFYjtBQUNBO0VBQ0UsbUJBQW1CO0VBQ25CLGlCQUFpQjtFQUNqQixrQkFBa0I7O0FBRXBCIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNTJlbSkge1xuICAuZm9ybSB7XG4gICAgICBtaW4td2lkdGg6IDUyZW07XG4gIH1cbn1cblxuZm9ybXtcbiAgbWFyZ2luOiAzZW07XG4gIHBhZGRpbmc6IDNlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDEyNywgMjE2LCAyMTcpO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuXG59XG5sYWJlbHtcbiAgY29sb3I6IHJnYigxMjIsIDIxOCwgMjA3KTtcbiAgZm9udC1zaXplOiB4LWxhcmdlO1xuICBmb250LXN0eWxlOml0YWxpYztcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmJ1dHRvbntcbiAgYm9yZGVyOiAjMDAwO1xuICBib3JkZXItcmFkaXVzOiAxZW07XG4gIGJvcmRlci1zdHlsZTpncm9vdmU7XG4gIGZvbnQtZmFtaWx5OiBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xuICBmb250LXNpemU6IGxhcmdlO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgd2lkdGg6IDhlbTtcbiAgaGVpZ2h0OiAzZW07XG4gIG1hcmdpbjogMmVtO1xuXG59XG5oMXtcbiAgZm9udC1zaXplOiB4eC1sYXJnZTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcblxufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["Validators","FormComponent","constructor","fb","router","toastr","_wineryService","aRouter","wineryForm","group","name","required","zone","id","snapshot","paramMap","get","ngOnInit","addWinery","console","log","value","WINERY","saveWinery","subscribe","data","success","navigate","error","reset","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/gabriel/Desktop/Angular Projects/Proyecto Bodegas/client/src/app/pages/form/form.component.ts","/Users/gabriel/Desktop/Angular Projects/Proyecto Bodegas/client/src/app/pages/form/form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { WineryService } from 'src/app/services/winery.service';\nimport { Winery } from 'src/app/model/winery';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\n\n\n@Component({\n  selector: 'app-form',\n  templateUrl: './form.component.html',\n  styleUrls: ['./form.component.css']\n})\nexport class FormComponent implements OnInit{\n  wineryForm: FormGroup;\ntitulo = 'Create Winery';\nid: string | null;\nwinery: any;\n\n  constructor(private fb: FormBuilder,\n    private router: Router,\n    private toastr: ToastrService,\n    private _wineryService: WineryService,\n    private aRouter: ActivatedRoute) {\n    this.wineryForm = this.fb.group({\n      name: ['', Validators.required],\n      zone: ['', Validators.required]\n    })\n    this.id = this.aRouter.snapshot.paramMap.get('id');\n   }\n\nngOnInit(): void {\n  // this.isEdit();\n}\n\naddWinery(){\n\n  console.log(this.wineryForm);\n\n  console.log(this.wineryForm.get('name')?.value);\n\n   const WINERY: Winery = {\n    name: this.wineryForm.get('name')?.value,\n   zone: this.wineryForm.get('zone')?.value\n   }\n  this._wineryService.saveWinery(WINERY).subscribe(data =>{\n         this.toastr.success('Bodega Registrada con Exito!', 'Bodega Registrada!');\n        this.router.navigate(['/']);\n\n      }, error => {\n            console.log(error);\n          this.wineryForm.reset();\n          })\n\n//   console.log(this.wineryForm);\n\n//   console.log(this.wineryForm.get('name')?.value);\n\n//   const WINERY: Winery = {\n//     name: this.wineryForm.get('name')?.value,\n//     zone: this.wineryForm.get('zone')?.value\n\n//   }\n// if (this.id !== null) {\n\n//   this._wineryService.updateWinery(this.id, WINERY).subscribe(data=>{\n//     this.toastr.info('Bodega Actualizada con Exito!', 'Bodega Actualizado!');\n//     this.router.navigate(['/']);\n//   }, error => {\n//     console.log(error);\n//   this.wineryForm.reset();\n// })\n\n// } else {\n//   // agregamos produ nuevo\n\n//   console.log(WINERY);\n//   this._wineryService.saveWinery(WINERY).subscribe(data =>{\n//     this.toastr.success('Bodega Registrada con Exito!', 'Bodega Registrada!');\n//     this.router.navigate(['/']);\n//   }, error => {\n//     console.log(error);\n//   this.wineryForm.reset();\n//   })\n\n// }\n\n\n// }\n\n// isEdit(){\n\n// if(this.id !== null){\n//   this.titulo = 'Editar Bodega'\n//   this._wineryService.getWinery(this.id).subscribe(data =>{\n// this.wineryForm.setValue({\n\n//       name: data.name,\n//       zone: data.zone\n\n// })\n\n//   })\n//}\n\n\n}\n\n}\n","<p>form works!</p>\n<form [formGroup]=\"wineryForm\" (ngSubmit)=\"addWinery()\">\n  <h1>Agregar nueva Bodega</h1>\n    <label for=\"name\">Nombre</label><br>\n    <input type=\"text\" id=\"name\" name=\"name\" maxlength=\"60\" placeholder=\"Nombre\" [(ngModel)]=\"winery.name\"><br>\n    <label for=\"zone\">Zona:\n      <select name=\"zone\" id=\"zone\" [(ngModel)]=\"winery.zone\">\n          <option value=\"Lujan de Cuyo\">Lujan de Cuyo</option>\n          <option value=\"Maipu\">Maipu</option>\n          <option value=\"Valle de Uco\">Valle de Uco</option>\n          <option value=\"San Rafael\">San Rafael</option>\n          <option value=\"Zona Este\">Zona Este</option>\n          <option value=\"Otra\" selected>Otra</option>\n      </select>\n  </label><br>\n\n      <br>\n    <button type=\"submit\">Agregar Bodega</button>\n    <button type=\"reset\">Borrar Formulario</button><br>\n\n  </form>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}