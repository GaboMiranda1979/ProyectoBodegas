{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/winery.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction DeleteComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const winery_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", winery_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(winery_r1.name);\n  }\n}\nexport class DeleteComponent {\n  constructor(wineryService) {\n    this.wineryService = wineryService;\n    this.bodegas = [];\n  }\n  ngOnInit() {\n    this.getWineries();\n  }\n  getWineries() {\n    this.wineryService.getWineries().subscribe(wineries => this.wineries = wineries);\n  }\n  deleteWinery() {\n    console.log(this.selectedWinery);\n    this.wineryService.deleteWinery(this.selectedWinery).subscribe(() => {\n      this.getWinery();\n    });\n  }\n  getWinery() {\n    throw new Error('Method not implemented.');\n  }\n}\nDeleteComponent.ɵfac = function DeleteComponent_Factory(t) {\n  return new (t || DeleteComponent)(i0.ɵɵdirectiveInject(i1.WineryService));\n};\nDeleteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DeleteComponent,\n  selectors: [[\"app-delete\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[\"name\", \"deleteForm\", \"method\", \"POST\", 3, \"submit\"], [\"for\", \"bodega\"], [\"name\", \"bodega\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [\"type\", \"reset\"], [3, \"value\"]],\n  template: function DeleteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"delete works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function DeleteComponent_Template_form_submit_2_listener() {\n        return ctx.deleteWinery();\n      });\n      i0.ɵɵelementStart(3, \"h1\");\n      i0.ɵɵtext(4, \"Eliminar Bodega\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\", 1);\n      i0.ɵɵtext(6, \"Seleccione la bodega a Eliminar:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"select\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function DeleteComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.selectedWinery = $event;\n      });\n      i0.ɵɵtemplate(8, DeleteComponent_option_8_Template, 2, 2, \"option\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 4);\n      i0.ɵɵtext(10, \"Eliminar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 5);\n      i0.ɵɵtext(12, \"Borrar Formulario\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedWinery);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.wineries);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAOMA,iCAA4D;IAAAA,YAAiB;IAAAA,iBAAS;;;;IAA9CA,oCAAmB;IAACA,eAAiB;IAAjBA,oCAAiB;;;ACSnF,OAAM,MAAOC,eAAe;EAI1BC,YAAoBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;IAFjC,YAAO,GAAa,EAAE;EAE8B;EAEpDC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EAEpB;EAEAA,WAAW;IACT,IAAI,CAACF,aAAa,CAACE,WAAW,EAAE,CAC7BC,SAAS,CAACC,QAAQ,IAAI,IAAI,CAACA,QAAQ,GAAGA,QAAQ,CAAC;EACpD;EAGAC,YAAY;IACVC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,cAAc,CAAC;IAChC,IAAI,CAACR,aAAa,CAACK,YAAY,CAAC,IAAI,CAACG,cAAc,CAAC,CACjDL,SAAS,CAAC,MAAK;MACd,IAAI,CAACM,SAAS,EAAE;IAClB,CAAC,CAAC;EACN;EACAA,SAAS;IACP,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC5C;;AA1BWZ,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDhB5BlB,yBAAG;MAAAA,6BAAa;MAAAA,iBAAI;MAElBA,+BAAgE;MAA1DA;QAAA,OAAUmB,kBAAc;MAAA,EAAC;MAC7BnB,0BAAI;MAAAA,+BAAe;MAAAA,iBAAK;MAExBA,gCAAoB;MAAAA,gDAAgC;MAAAA,iBAAQ;MAC5DA,iCAAmD;MAA3CA;QAAA;MAAA,EAA4B;MAClCA,sEAAsF;MACxFA,iBAAS;MAETA,iCAAsB;MAAAA,yBAAQ;MAAAA,iBAAS;MACvCA,kCAAqB;MAAAA,kCAAiB;MAAAA,iBAAS;;;MALvCA,eAA4B;MAA5BA,4CAA4B;MACPA,eAAW;MAAXA,sCAAW","names":["i0","DeleteComponent","constructor","wineryService","ngOnInit","getWineries","subscribe","wineries","deleteWinery","console","log","selectedWinery","getWinery","Error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/gabriel/Desktop/Angular Projects/Proyecto Bodegas/client/src/app/pages/bodegas/delete/delete.component.html","/Users/gabriel/Desktop/Angular Projects/Proyecto Bodegas/client/src/app/pages/bodegas/delete/delete.component.ts"],"sourcesContent":["<p>delete works!</p>\n\n  <form (submit)=\"deleteWinery()\" name=\"deleteForm\" method=\"POST\">\n    <h1>Eliminar Bodega</h1>\n\n    <label for=\"bodega\">Seleccione la bodega a Eliminar:</label>\n    <select [(ngModel)]=\"selectedWinery\" name=\"bodega\">\n      <option *ngFor=\"let winery of wineries\" [value]=\"winery.id\">{{ winery.name }}</option>\n    </select>\n\n    <button type=\"submit\">Eliminar</button>\n    <button type=\"reset\">Borrar Formulario</button>\n\n  </form>\n","//import { Bodega } from './../interfaces/bodegas.interfaces';\n//import { BodegaService } from './../services/bodegas.services';\nimport { Component, OnInit } from '@angular/core';\nimport { BodegasComponent } from '../bodegas.component';\nimport { FormsModule } from '@angular/forms';\nimport { WineryService } from 'src/app/services/winery.service';\nimport { Winery } from 'src/app/model/winery';\nimport { ToastrService } from 'ngx-toastr';\n\n\n@Component({\n  selector: 'app-delete',\n  templateUrl: './delete.component.html',\n  styleUrls: ['./delete.component.css']\n})\n\nexport class DeleteComponent implements OnInit{\n\n  bodegas: Winery[] = [];\n  selectedBodega!: Winery;\n  constructor(private wineryService: WineryService) { }\n\n  ngOnInit(): void {\n    this.getWineries();\n\n  }\n\n  getWineries(): void {\n    this.wineryService.getWineries()\n      .subscribe(wineries => this.wineries = wineries);\n  }\n\n\n  deleteWinery(): void {\n    console.log(this.selectedWinery)\n    this.wineryService.deleteWinery(this.selectedWinery)\n      .subscribe(() => {\n        this.getWinery();\n      });\n  }\n  getWinery() {\n    throw new Error('Method not implemented.');\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}