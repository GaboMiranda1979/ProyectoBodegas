{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/winery.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction DeleteComponent_option_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const winery_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", winery_r1._id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(winery_r1.name);\n  }\n}\nexport class DeleteComponent {\n  constructor(wineryService, toastr, router) {\n    this.wineryService = wineryService;\n    this.toastr = toastr;\n    this.router = router;\n    this.wineries = [];\n  }\n  ngOnInit() {\n    this.getWineries();\n  }\n  getWineries() {\n    this.wineryService.getWineries().subscribe(wineries => this.wineries = wineries);\n  }\n  deleteWinery(_id) {\n    console.log(this.selectedWinery);\n    this.wineryService.deleteWinery(this.selectedWinery).subscribe(() => {\n      this.getWinery(_id);\n    });\n    this.toastr.error('La Bodega fue eliminada con Exito!!!', 'Bodega Eliminada');\n    this.router.navigate(['/']);\n  }\n  getWinery(_id) {\n    throw new Error('ACA ESTA EL PROBLEM BABY');\n  }\n}\nDeleteComponent.ɵfac = function DeleteComponent_Factory(t) {\n  return new (t || DeleteComponent)(i0.ɵɵdirectiveInject(i1.WineryService), i0.ɵɵdirectiveInject(i2.ToastrService), i0.ɵɵdirectiveInject(i3.Router));\n};\nDeleteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DeleteComponent,\n  selectors: [[\"app-delete\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[\"name\", \"deleteForm\", \"method\", \"POST\", 3, \"submit\"], [\"for\", \"bodega\"], [\"name\", \"bodega\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\"], [\"type\", \"reset\"], [3, \"value\"]],\n  template: function DeleteComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"delete works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function DeleteComponent_Template_form_submit_2_listener() {\n        return ctx.deleteWinery(ctx.selectedWinery);\n      });\n      i0.ɵɵelementStart(3, \"h1\");\n      i0.ɵɵtext(4, \"Eliminar Bodega\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"label\", 1);\n      i0.ɵɵtext(6, \"Seleccione la bodega a Eliminar:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"select\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function DeleteComponent_Template_select_ngModelChange_7_listener($event) {\n        return ctx.selectedWinery = $event;\n      });\n      i0.ɵɵtemplate(8, DeleteComponent_option_8_Template, 2, 2, \"option\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"button\", 4);\n      i0.ɵɵtext(10, \"Eliminar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"button\", 5);\n      i0.ɵɵtext(12, \"Borrar Formulario\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedWinery);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.wineries);\n    }\n  },\n  dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.NgSelectOption, i5.ɵNgSelectMultipleOption, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAOMA,iCAA6D;IAAAA,YAAiB;IAAAA,iBAAS;;;;IAA/CA,qCAAoB;IAACA,eAAiB;IAAjBA,oCAAiB;;;ACOpF,OAAM,MAAOC,eAAe;EAI1BC,YAAoBC,aAA4B,EACtCC,MAAqB,EACrBC,MAAc;IAFJ,kBAAa,GAAbF,aAAa;IACvB,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;IAJhB,aAAQ,GAAa,EAAE;EAKjB;EAENC,QAAQ;IACN,IAAI,CAACC,WAAW,EAAE;EAGpB;EAEAA,WAAW;IACT,IAAI,CAACJ,aAAa,CAACI,WAAW,EAAE,CAC7BC,SAAS,CAACC,QAAQ,IAAI,IAAI,CAACA,QAAQ,GAAGA,QAAQ,CAAC;EACpD;EAGAC,YAAY,CAACC,GAAQ;IACnBC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,cAAc,CAAC;IAChC,IAAI,CAACX,aAAa,CAACO,YAAY,CAAC,IAAI,CAACI,cAAc,CAAC,CACjDN,SAAS,CAAC,MAAK;MACd,IAAI,CAACO,SAAS,CAACJ,GAAG,CAAC;IACrB,CAAC,CAAC;IACF,IAAI,CAACP,MAAM,CAACY,KAAK,CAAC,sCAAsC,EAAE,kBAAkB,CAAC;IAC7E,IAAI,CAACX,MAAM,CAACY,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC/B;EACAF,SAAS,CAACJ,GAAQ;IAChB,MAAM,IAAIO,KAAK,CAAC,0BAA0B,CAAC;EAC7C;;AAhCWjB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDd5BvB,yBAAG;MAAAA,6BAAa;MAAAA,iBAAI;MAElBA,+BAA8E;MAAxEA;QAAA,OAAUwB,oCAA4B;MAAA,EAAC;MAC3CxB,0BAAI;MAAAA,+BAAe;MAAAA,iBAAK;MAExBA,gCAAoB;MAAAA,gDAAgC;MAAAA,iBAAQ;MAC5DA,iCAAmD;MAA3CA;QAAA;MAAA,EAA4B;MAClCA,sEAAuF;MACzFA,iBAAS;MAETA,iCAAsB;MAAAA,yBAAQ;MAAAA,iBAAS;MACvCA,kCAAqB;MAAAA,kCAAiB;MAAAA,iBAAS;;;MALvCA,eAA4B;MAA5BA,4CAA4B;MACPA,eAAW;MAAXA,sCAAW","names":["i0","DeleteComponent","constructor","wineryService","toastr","router","ngOnInit","getWineries","subscribe","wineries","deleteWinery","_id","console","log","selectedWinery","getWinery","error","navigate","Error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/gabriel/Desktop/Angular Projects/Proyecto Bodegas/client/src/app/pages/bodegas/delete/delete.component.html","/Users/gabriel/Desktop/Angular Projects/Proyecto Bodegas/client/src/app/pages/bodegas/delete/delete.component.ts"],"sourcesContent":["<p>delete works!</p>\n\n  <form (submit)=\"deleteWinery(selectedWinery)\" name=\"deleteForm\" method=\"POST\">\n    <h1>Eliminar Bodega</h1>\n\n    <label for=\"bodega\">Seleccione la bodega a Eliminar:</label>\n    <select [(ngModel)]=\"selectedWinery\" name=\"bodega\">\n      <option *ngFor=\"let winery of wineries\" [value]=\"winery._id\">{{ winery.name }}</option>\n    </select>\n\n    <button type=\"submit\">Eliminar</button>\n    <button type=\"reset\">Borrar Formulario</button>\n\n  </form>\n","\nimport { Component, OnInit } from '@angular/core';\nimport { WineryService } from 'src/app/services/winery.service';\nimport { Winery } from 'src/app/model/winery';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\n\n\n@Component({\n  selector: 'app-delete',\n  templateUrl: './delete.component.html',\n  styleUrls: ['./delete.component.css']\n})\n\nexport class DeleteComponent implements OnInit{\n\n  wineries: Winery[] = [];\n  selectedWinery!: Winery;\n  constructor(private wineryService: WineryService,\n    private toastr: ToastrService,\n    private router: Router\n    ) { }\n\n  ngOnInit(): void {\n    this.getWineries();\n\n\n  }\n\n  getWineries(): void {\n    this.wineryService.getWineries()\n      .subscribe(wineries => this.wineries = wineries);\n  }\n\n\n  deleteWinery(_id: any): void {\n    console.log(this.selectedWinery)\n    this.wineryService.deleteWinery(this.selectedWinery)\n      .subscribe(() => {\n        this.getWinery(_id);\n      });\n      this.toastr.error('La Bodega fue eliminada con Exito!!!', 'Bodega Eliminada');\n      this.router.navigate(['/']);\n  }\n  getWinery(_id: any) {\n    throw new Error('ACA ESTA EL PROBLEM BABY');\n  }\n\n\n\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}